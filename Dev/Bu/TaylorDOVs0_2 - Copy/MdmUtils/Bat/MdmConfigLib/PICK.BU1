@Echo OFF
@Rem
Cls
@Echo.
@Echo.         K-bil by Axion
@Echo.           PICK BOOT
:DRVSTART
@Echo.
@Echo. LOCAL or SERVER
Set OpSys.Drv=C:
:DRVFIND
@Echo. check drive %OpSys.Drv%...
%OpSys.Drv%
@Rem The following flag means PICK is off (not present)
@Rem                      Or Use the server for PICK
@If     exist %OpSys.Drv%\Pck_Off.Flg GoTo DRVCHNG
@If not exist %OpSys.Drv%\Pck.Flg     GoTo DRVCHNG
@Echo.
@Echo. Use PICK if it exists
@If exist %OpSys.Drv%\Pick\PickMon.Exe GoTo DRVOK
:DRVCHNG
@Echo.
@Echo.     PICK is not present on drive %OpSys.Drv%!
@If %OpSys.Drv%==N: Echo. PICK is not available!!!
@If %OpSys.Drv%==N: Pause
@If %OpSys.Drv%==N: GoTo DRVEND
@If %OpSys.Drv%==M: Set OpSys.Drv=N:
@If %OpSys.Drv%==H: Set OpSys.Drv=M:
@If %OpSys.Drv%==D: Set OpSys.Drv=H:
@If %OpSys.Drv%==C: Set OpSys.Drv=D:
@If %OpSys.Drv%==H: Echo.     Use the Server (H:) for PICK
@If %OpSys.Drv%==M: Echo.     Use the   Link (M:) for PICK
@Echo.     Will now try Drive %OpSys.Drv%...
@Echo.
@If not exist %OpSys.Drv%\true.Flg    GoTo DRVCHNG
Pause
GoTo DRVFIND
:DRVOK
@Echo.
@Pause Hit any key to continue...
@Echo.
Call SetOpSys PCK
@Echo. Set the Path to %OpSys.Drv%\Pick
Call SetPROMPT
Call SetPath
@If exist %OpSys.Drv%\Pick\PickMon.Exe Cd %OpSys.Drv%\Pick
@If exist %OpSys.Drv%\Pick\PickMon.Exe Path= %OpSys.Drv%\Pick;%Path%
@If exist capslock.com CAPSLOCK
Path
@Echo.
@Echo. Set Modes, Generic, Cursor, and Fix memory
@Echo.
@If exist %OpSys.Drv%\Vidram.Flg    Vidram OFF
Copy %OpSys.Drv%\KBIL.Dat           %OpSys.Drv%\KbilMode.Dat
@If exist cursor.com                CURSOR
@Echo.
@Echo. Run PICK
@Echo.
@Echo OFF
PickMon %1 %2 %3 %4 %5 %6 %7 %8 %9
@Echo.
@If exist %OpSys.Drv%\Debug.Flg     Pause Debug!! Hit any key to continue...
@Call SetOpSys %Native%
@Call SetPROMPT
@Echo.
@Echo. Clean up flags and run menu
@Echo.
@If exist %OpSys.Drv%\KbilMode.Dat  Del %OpSys.Drv%\KbilMode.Dat
:DRVEND
%Native.Drv%
Cd \
@Rem Set OpSys.Drv=%Native.Drv%
@Call SetDrv
@Call SetNatDrv
@If exist cursor.com                CURSOR
@Echo OFF
Cls
M
